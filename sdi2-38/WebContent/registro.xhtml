<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">

	<ui:define name="titulo">
		<h:outputFormat value="#{msgs.cabecera_rellenable}">
			<f:param value="#{msgs.cabecera_registro}" />
		</h:outputFormat>
	</ui:define>

	<ui:define name="cuerpo">
		<h:form action="registrarse" method="post">
			<h:messages style="color:red;margin:8px;"/>
			<center>
				<h1>#{msgs.titulo_registreCuenta}</h1>
			</center>
			<hr/>
			<br/>
			<h:panelGrid columns="2" styleClass="formTable">
			
			#{msgs.campo_identificador}
			<h:panelGroup>
					<h:inputText value="#{registro.login}" required="true"
						requiredMessage="#{msgs.mensaje_campoObligatorio}" 
						id="login"
						size="15">
					</h:inputText>
					<h:message for="login" />
				</h:panelGroup>
  			
			#{msgs.campo_nombre}
			<h:panelGroup>
					<h:inputText value="#{registro.nombre}" required="true"
						requiredMessage="#{msgs.mensaje_campoObligatorio}" id="nombre">
					</h:inputText>
					<h:message for="nombre" />
				</h:panelGroup>
  			
  			#{msgs.campo_apellidos}
  			<h:panelGroup>
					<h:inputText value="#{registro.apellidos}" required="true"
						requiredMessage="#{msgs.mensaje_campoObligatorio}" id="apellidos">
					</h:inputText>
					<h:message for="apellidos" />
				</h:panelGroup>
  			
  			#{msgs.campo_email}
  			<h:panelGroup>
					<h:inputText value="#{registro.email}" required="true"
						requiredMessage="#{msgs.mensaje_campoObligatorio}" id="email">
					</h:inputText>
					<h:message for="email" />
				</h:panelGroup>
  			
  			#{msgs.campo_contraseña}
  			<h:panelGroup>
					<p:password value="#{registro.pass}" required="true"
						requiredMessage="#{msgs.mensaje_campoObligatorio}" id="pass">
					</p:password>
					<h:message for="pass" />
				</h:panelGroup>
  			
			#{msgs.campo_repetirContraseña}
			<h:panelGroup>
					<p:password value="#{registro.repitePass}" required="true"
						requiredMessage="#{msgs.mensaje_campoObligatorio}" id="repitePass">
					</p:password>
					<h:message for="repitePass" />
				</h:panelGroup>

				<h:commandButton value="#{msgs.enlace_enviar}"
					action="#{registro.registrar}">
					<!-- Ojo que aquí render tiene que incluir todo el formulario 
     ya que los mensajes de error pueden ser renderizados también por Ajax de form implícita -->
					<f:ajax execute="@form" render="@form" />
				</h:commandButton>

			</h:panelGrid>
		</h:form>
		<hr/>
	</ui:define>

</ui:composition>